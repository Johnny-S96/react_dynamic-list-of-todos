(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(e,t,n){e.exports=n(25)},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(10),o=n.n(s),i=n(7),c=n.n(i),l=n(8),u=n(2),d=n(3),m=n(5),p=n(4),f=(n(19),n(20),n(11)),h=(n(21),n(6)),v=n.n(h),b=n(1),E=n.n(b),y=(E.a.arrayOf(Object(b.shape)({id:E.a.number.isRequired,userId:E.a.number.isRequired,title:E.a.string.isRequired,completed:E.a.bool.isRequired}).isRequired).isRequired,E.a.number.isRequired,E.a.func.isRequired,E.a.func.isRequired,E.a.number.isRequired,E.a.string.isRequired,E.a.bool.isRequired,E.a.number.isRequired,E.a.func.isRequired,E.a.number.isRequired,E.a.number.isRequired,E.a.func.isRequired,function(e){var t=e.userId,n=e.selectedUserId,r=e.action,s=v()({"TodoList__user-button":!0,button:!0,"TodoList__user-button--selected":n===t});return a.a.createElement("button",{className:s,type:"button",onClick:r},"User\xa0#",t)}),U=function(e){var t=e.userId,n=e.title,r=e.isCompleted,s=e.selectedUserId,o=e.onUserSelect;return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:r,readOnly:!0}),a.a.createElement("p",null,n)),a.a.createElement(y,{userId:t,selectedUserId:s,action:o}))},g=function(e){var t=e.innerText,n=e.action,r=v()({CurrentUser__clear:"Clear"===t,btn:!0,"btn-warning":"Clear"===t,"btn-info":"Randomize"===t});return a.a.createElement("button",{className:r,type:"button",onClick:n},t)},_=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={inputValue:"",selectValue:"all",selectRange:["all","active","completed"]},e.filterTodosByTitle=function(t){var n=t.target.value,r=e.props.onTitleFiltering;e.setState({inputValue:n}),r(n)},e.filterTodosByStatus=function(t){var n=t.target.value,r=e.props.onStatusFiltering;e.setState({selectValue:n}),r(n)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.selectValue,r=e.selectRange,s=this.props.onRandomize;return a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"input-group-text",htmlFor:"inputFilter"},"Filter by title"),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Title",id:"inputFilter",value:t,onChange:this.filterTodosByTitle}),a.a.createElement("label",{className:"input-group-text",htmlFor:"selectFilter"},"Which todos to show?"),a.a.createElement("select",{className:"form-select",id:"selectFilter",value:n,onChange:this.filterTodosByStatus},r.map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))),a.a.createElement(g,{innerText:"Randomize",action:s}))}}]),n}(r.Component),T=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={filteredTodos:null,currentStatus:"all"},e.onTitleFiltering=function(t){e.setState({filteredTodos:e.makeTitleFilter(t)})},e.onStatusFiltering=function(t){e.setState({currentStatus:t})},e.onRandomize=function(){e.setState({filteredTodos:e.makeRandomSort()})},e.makeRandomSort=function(){var t=e.props.todos,n=e.state.filteredTodos,r=function(){return Math.floor(3*Math.random())};return Object(f.a)(n||t).sort((function(){return 2===r()?-1:r()}))},e.makeTitleFilter=function(t){return e.props.todos.filter((function(e){var n=e.title;try{return new RegExp(t,"gi").test(n)}catch(r){return!1}}))},e.makeStatusFilter=function(t){var n=e.props.todos;return(e.state.filteredTodos||n).filter((function(e){return"completed"===t?!0===e.completed:"active"!==t||!1===e.completed}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedUserId,n=e.onUserSelect,r=this.state.currentStatus,s=this.makeStatusFilter(r);return a.a.createElement("div",{className:"TodoList"},a.a.createElement("h2",null,"Todos: ".concat(s.length)),a.a.createElement("div",{className:"TodoList__list-container"},a.a.createElement(_,{onTitleFiltering:this.onTitleFiltering,onStatusFiltering:this.onStatusFiltering,onRandomize:this.onRandomize}),a.a.createElement("ul",{className:"TodoList__list"},s.map((function(e){var r=v()({TodoList__item:!0,"TodoList__item--checked":!0===e.completed,"TodoList__item--unchecked":!1===e.completed});return e.userId&&a.a.createElement("li",{key:e.id,className:r},a.a.createElement(U,{userId:e.userId,title:e.title,isCompleted:e.completed,selectedUserId:t,onUserSelect:n}))})))))}}]),n}(r.Component),S=n(12),R=(n(24),"https://mate-api.herokuapp.com"),k=function(e){return fetch("".concat(R,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return"Oooops...".concat(e)}))},O=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={currentUser:null},e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e){e.userId!==this.props.userId&&this.getUserDetails()}},{key:"getUserDetails",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userId,e.next=3,k(t);case 3:n=e.sent,this.setState({currentUser:Object(S.a)({},n)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.currentUser,t=this.props,n=t.onUserClear,r=t.userId;return null===e&&this.getUserDetails(),e&&a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("h2",{className:"CurrentUser__title"},a.a.createElement("span",null,e.id?"Selected user: ".concat(e.id):"No user with such id: ".concat(r))),a.a.createElement("h3",{className:"CurrentUser__name"},e.name),a.a.createElement("p",{className:"CurrentUser__email"},e.email),a.a.createElement("p",{className:"CurrentUser__phone"},e.phone),a.a.createElement(g,{innerText:"Clear",action:n}))}}]),n}(r.Component),j=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={todos:[],selectedUserId:0},e.onUserSelect=function(t){var n=Number(t.target.innerText.split("#")[1]);e.setState({selectedUserId:n})},e.onUserClear=function(){return e.setState({selectedUserId:0})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/todos")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return"Oooops...".concat(e)}));case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.todos,n=e.selectedUserId;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement(T,{todos:t,selectedUserId:n,onUserSelect:this.onUserSelect})),a.a.createElement("div",{className:"App__content"},a.a.createElement("div",{className:"App__content-container"},n?a.a.createElement(O,{userId:n,onUserClear:this.onUserClear}):"No user selected")))}}]),n}(a.a.Component);o.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.977694d7.chunk.js.map